"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(294),i=n(977),o=n(694),a=n(581),c=n(477);let h=-1;var l=n(867);const s=[0,0,0];function u(e){let{children:t,width:n=1,height:i=1,backgroundColor:o="black",backgroundImage:a,backgroundSize:u,zIndex:d=0,position:g=s,flexDirection:m="row",alignItems:p="start",justifyContent:w="start",gap:f=0}=e;const E=(0,l.w)((e=>e.gl)),b=r.useMemo((()=>({width:n,height:i})),[n,i]),[k,M]=r.useState(void 0);r.useMemo((()=>{void 0!==a&&(new c.TextureLoader).loadAsync(a).then(M)}),[a]),r.useMemo((()=>{void 0!==k&&(k.anisotropy=E.capabilities.getMaxAnisotropy())}),[k,E]);const[v,y,x]=r.useMemo((()=>{const e=b.width/b.height;return void 0===k?[e,e,e]:[e,k.image.width/k.image.height,k.image.height/k.image.width]}),[k,b]),C=r.useMemo((()=>{const e=new c.Plane(new c.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]}),[]),[z,I]=r.useMemo((()=>{if(void 0===k)return[b,C];const e={...b};return"contain"===u&&(y>=v?(e.width=b.width,e.height=e.width*x):(e.height=b.height,e.width=e.height*y)),"cover"===u&&(y>=v?(e.height=b.height,e.width=e.height*y):(e.width=b.width,e.height=e.width*x)),C[0].set(new c.Vector3(0,-1,0),.5*b.height),C[1].set(new c.Vector3(1,0,0),.5*b.width),C[2].set(new c.Vector3(0,1,0),.5*b.height),C[3].set(new c.Vector3(-1,0,0),.5*b.width),[e,C]}),[C,k,b,u,y,x,v]),V=r.useMemo((()=>++h),[]),B=function(e){const t=r.useRef(0);return r.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([k]),W=r.useRef(null);return r.useEffect((()=>{const e=W.current;null!==e&&(e.updateMatrixWorld(!0),C.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[g,C]),r.createElement("group",{key:B},r.createElement("group",{ref:W,position:g},r.createElement("mesh",{renderOrder:V+d},r.createElement("planeBufferGeometry",{args:[b.width,b.height]}),r.createElement("meshBasicMaterial",{color:o,transparent:!0,depthWrite:!1})),r.createElement("mesh",{renderOrder:V+d,visible:void 0!==k},r.createElement("planeBufferGeometry",{args:[z.width,z.height]}),r.createElement("meshBasicMaterial",{map:k,transparent:!0,depthWrite:!1,clippingPlanes:I,clipIntersection:!0}))),t)}function d(){return r.createElement(i.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},r.createElement(o.c,{makeDefault:!0,position:[0,0,5]}),r.createElement(a.z,{makeDefault:!0}),r.createElement("ambientLight",null),r.createElement(u,{backgroundColor:"crimson",width:3,height:3},r.createElement(u,{position:[-.5,0,0],width:1,height:1,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}}}]);
//# sourceMappingURL=482.ba663d8c.chunk.js.map