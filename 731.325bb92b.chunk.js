"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[731],{731:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var o=n(294),r=n(369),i=n(977),a=n(989),l=n(581);function c(e){let{children:t}=e;const n=o.useMemo((()=>new r.d(6,6,6,10,10,10).translate(0,3,0)),[]);return o.createElement(i.Xz,{legacy:!0,flat:!0,linear:!0,gl:{localClippingEnabled:!0}},o.createElement(a.c,{makeDefault:!0,position:[0,1.6,0]}),o.createElement(l.z,{makeDefault:!0,target:[0,1,-1.8]}),o.createElement("ambientLight",null),o.createElement("lineSegments",{geometry:n},o.createElement("lineBasicMaterial",{color:"#c0c0c0"})),o.createElement("group",{position:[0,1,-1.88]},t))}var s=n(530),h=n(477),p=n(867);let u=-1;function d(e,t){let{children:n,width:r=1,height:i=1,backgroundColor:a="black",backgroundImage:l,backgroundSize:c,zIndex:d=0,position:g,rotation:m,flexDirection:w="row",alignItems:f="start",justifyContent:E="start",gap:x=0,onClick:b,onContextMenu:k,onDoubleClick:C,onPointerUp:M,onPointerDown:y,onPointerOver:P,onPointerOut:v,onPointerEnter:D,onPointerLeave:O,onPointerMove:S,onPointerMissed:V,onPointerCancel:W,onWheel:B}=e;const I=(0,p.w)((e=>e.gl)),z=o.useMemo((()=>({width:r,height:i})),[r,i]),[A,L]=o.useState(void 0);o.useMemo((()=>{void 0!==l&&(new h.TextureLoader).loadAsync(l).then(L)}),[l]),o.useMemo((()=>{void 0!==A&&(A.anisotropy=I.capabilities.getMaxAnisotropy())}),[A,I]);const[_,j,R]=o.useMemo((()=>{const e=z.width/z.height;return void 0===A?[e,e,e]:[e,A.image.width/A.image.height,A.image.height/A.image.width]}),[A,z]),[G,U]=o.useState((()=>{const e=new h.Plane(new h.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[T,X]=o.useState((()=>({...z}))),q=o.useMemo((()=>void 0===n?[]:Array.isArray(n)?n:[n]),[n]),F=o.useMemo((()=>new h.Vector2(0,0)),[]),H=o.useCallback((e=>{const t=q.reduce(((e,t)=>e+t.props.width),0),n=q.reduce(((e,t)=>e+t.props.height),0);F.set(0,0);let o=t,r="width",i="height";if("column"===w&&(r="height",i="width",o=n),q.length>0&&!["space-between","space-around"].includes(E)&&(o+=x*(q.length-1)),"start"===E){F.x=.5*z[r]+.5*q[0].props[r]-z[r];for(let t=1;t<=e;t++)F.x+=.5*q[t-1].props[r]+.5*q[t].props[r]+x}if("center"===E){F.x=.5*q[0].props[r]-.5*o;for(let t=1;t<=e;t++)F.x+=.5*q[t-1].props[r]+.5*q[t].props[r]+x}if("end"===E){F.x=.5*z[r]+.5*q[0].props[r]-o;for(let t=1;t<=e;t++)F.x+=.5*q[t-1].props[r]+.5*q[t].props[r]+x}if("space-between"===E)if(o>=z[r]){F.x=.5*z[r]+.5*q[0].props[r]-z[r];for(let t=1;t<=e;t++)F.x+=.5*q[t-1].props[r]+.5*q[t].props[r]}else{let t=Math.max(0,z[r]-o);0===q.length?t=0:t>0&&(t/=q.length-1),F.x=.5*z[r]+.5*q[0].props[r]-z[r];for(let n=1;n<=e;n++)F.x+=.5*q[n-1].props[r]+.5*q[n].props[r]+t}if("space-around"===E)if(o>=z[r]){F.x=.5*z[r]+.5*q[0].props[r]-z[r];for(let t=1;t<=e;t++)F.x+=.5*q[t-1].props[r]+.5*q[t].props[r]}else{let t=Math.max(0,z[r]-o);0===q.length?t=0:t>0&&(t/=q.length+1),F.x=.5*z[r]+.5*q[0].props[r]-z[r],F.x+=t;for(let n=1;n<=e;n++)F.x+=.5*q[n-1].props[r]+.5*q[n].props[r]+t}return"start"===f&&("row"===w&&(F.y=.5*z[i]-.5*q[e].props[i]),"column"===w&&(F.y=-.5*z[i]+.5*q[e].props[i])),"end"===f&&("row"===w&&(F.y=-.5*z[i]+.5*q[e].props[i]),"column"===w&&(F.y=.5*z[i]-.5*q[e].props[i])),"column"===w?[F.y,F.x,0]:[F.x,F.y,0]}),[q,z,w,f,E,x,F]),[J,K]=o.useState((()=>q.map(((e,t)=>H(t)))));o.useEffect((()=>{K(q.map(((e,t)=>H(t))))}),[q,H]),o.useEffect((()=>{if(void 0===A)return;const e={...z};"contain"===c&&(j>=_?(e.width=z.width,e.height=e.width*R):(e.height=z.height,e.width=e.height*j)),"cover"===c&&(j>=_?(e.height=z.height,e.width=e.height*j):(e.width=z.width,e.height=e.width*R)),X(e),U((e=>(e[0].set(new h.Vector3(0,-1,0),.5*z.height),e[1].set(new h.Vector3(1,0,0),.5*z.width),e[2].set(new h.Vector3(0,1,0),.5*z.height),e[3].set(new h.Vector3(-1,0,0),.5*z.width),[...e])))}),[m,g,J,A,z,c,j,R,_]);const N=o.useRef(null);o.useEffect((()=>{const e=N.current;null!==e&&(e.updateMatrixWorld(!0),G.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[m,g,J,G]);const Q=o.useMemo((()=>++u),[]),Y=function(e){const t=o.useRef(0);return o.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([J,A,m,g,n,T,G]);return o.createElement("group",{ref:(0,s.l)([N,t]),key:Y,rotation:m,position:g,onClick:b,onContextMenu:k,onDoubleClick:C,onPointerUp:M,onPointerDown:y,onPointerOver:P,onPointerOut:v,onPointerEnter:D,onPointerLeave:O,onPointerMove:S,onPointerMissed:V,onPointerCancel:W,onWheel:B},o.createElement("mesh",{renderOrder:Q+d},o.createElement("planeBufferGeometry",{args:[z.width,z.height]}),o.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),o.createElement("mesh",{renderOrder:Q+d,visible:void 0!==A},o.createElement("planeBufferGeometry",{args:[T.width,T.height]}),o.createElement("meshBasicMaterial",{map:A,transparent:!0,depthWrite:!1,clippingPlanes:G})),o.Children.map(n,((e,t)=>o.createElement("group",{key:t,position:J[t]},e))))}var g=o.forwardRef(d);function m(){return o.createElement(c,null,o.createElement(g,{position:[-.52,0,0],backgroundColor:"#777777",width:1,height:1,justifyContent:"space-between",flexDirection:"row",alignItems:"center"},o.createElement(g,{width:.3,height:.3,backgroundColor:"red"}),o.createElement(g,{width:.3,height:.3,backgroundColor:"green"}),o.createElement(g,{width:.3,height:.3,backgroundColor:"blue"})),o.createElement(g,{position:[.52,0,0],backgroundColor:"#777777",width:1,height:1,justifyContent:"space-around",flexDirection:"column",alignItems:"center"},o.createElement(g,{width:.3,height:.3,backgroundColor:"red"}),o.createElement(g,{width:.3,height:.3,backgroundColor:"green"}),o.createElement(g,{width:.3,height:.3,backgroundColor:"blue"})))}}}]);
//# sourceMappingURL=731.325bb92b.chunk.js.map