"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var n=o(294),r=o(977),i=o(989),a=o(581),s=o(530),c=o(477),l=o(867);let p=-1;function h(e,t){let{children:o,width:r=1,height:i=1,backgroundColor:a="black",backgroundImage:h,backgroundSize:u,zIndex:g=0,position:d,flexDirection:m="row",alignItems:f="start",justifyContent:w="start",gap:b=0,onClick:k,onContextMenu:x,onDoubleClick:E,onPointerUp:v,onPointerDown:C,onPointerOver:M,onPointerOut:P,onPointerEnter:y,onPointerLeave:S,onPointerMove:z,onPointerMissed:D,onPointerCancel:I,onWheel:O}=e;const V=(0,l.w)((e=>e.gl)),W=n.useMemo((()=>({width:r,height:i})),[r,i]),[A,B]=n.useState(void 0);n.useMemo((()=>{void 0!==h&&(new c.TextureLoader).loadAsync(h).then(B)}),[h]),n.useMemo((()=>{void 0!==A&&(A.anisotropy=V.capabilities.getMaxAnisotropy())}),[A,V]);const[L,_,R]=n.useMemo((()=>{const e=W.width/W.height;return void 0===A?[e,e,e]:[e,A.image.width/A.image.height,A.image.height/A.image.width]}),[A,W]),[j,G]=n.useState((()=>{const e=new c.Plane(new c.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[U,T]=n.useState((()=>({...W}))),X=n.useMemo((()=>void 0===o?[]:Array.isArray(o)?o:[o]),[o]),q=n.useMemo((()=>new c.Vector2(0,0)),[]),F=n.useCallback((e=>{const t=X.reduce(((e,t)=>e+t.props.width),0),o=X.reduce(((e,t)=>e+t.props.height),0);q.set(0,0);let n=t,r="width",i="height";if("column"===m&&(r="height",i="width",n=o),X.length>0&&!["space-between","space-around"].includes(w)&&(n+=b*(X.length-1)),"start"===w){q.x=.5*W[r]+.5*X[0].props[r]-W[r];for(let t=1;t<=e;t++)q.x+=.5*X[t-1].props[r]+.5*X[t].props[r]+b}if("center"===w){q.x=.5*X[0].props[r]-.5*n;for(let t=1;t<=e;t++)q.x+=.5*X[t-1].props[r]+.5*X[t].props[r]+b}if("end"===w){q.x=.5*W[r]+.5*X[0].props[r]-n;for(let t=1;t<=e;t++)q.x+=.5*X[t-1].props[r]+.5*X[t].props[r]+b}if("space-between"===w)if(n>=W[r]){q.x=.5*W[r]+.5*X[0].props[r]-W[r];for(let t=1;t<=e;t++)q.x+=.5*X[t-1].props[r]+.5*X[t].props[r]}else{let t=Math.max(0,W[r]-n);0===X.length?t=0:t>0&&(t/=X.length-1),q.x=.5*W[r]+.5*X[0].props[r]-W[r];for(let o=1;o<=e;o++)q.x+=.5*X[o-1].props[r]+.5*X[o].props[r]+t}if("space-around"===w)if(n>=W[r]){q.x=.5*W[r]+.5*X[0].props[r]-W[r];for(let t=1;t<=e;t++)q.x+=.5*X[t-1].props[r]+.5*X[t].props[r]}else{let t=Math.max(0,W[r]-n);0===X.length?t=0:t>0&&(t/=X.length+1),q.x=.5*W[r]+.5*X[0].props[r]-W[r],q.x+=t;for(let o=1;o<=e;o++)q.x+=.5*X[o-1].props[r]+.5*X[o].props[r]+t}return"start"===f&&("row"===m&&(q.y=.5*W[i]-.5*X[e].props[i]),"column"===m&&(q.y=-.5*W[i]+.5*X[e].props[i])),"end"===f&&("row"===m&&(q.y=-.5*W[i]+.5*X[e].props[i]),"column"===m&&(q.y=.5*W[i]-.5*X[e].props[i])),"column"===m?[q.y,q.x,0]:[q.x,q.y,0]}),[X,W,m,f,w,b,q]),[H,J]=n.useState((()=>X.map(((e,t)=>F(t)))));n.useEffect((()=>{J(X.map(((e,t)=>F(t))))}),[X,F]),n.useEffect((()=>{if(void 0===A)return;const e={...W};"contain"===u&&(_>=L?(e.width=W.width,e.height=e.width*R):(e.height=W.height,e.width=e.height*_)),"cover"===u&&(_>=L?(e.height=W.height,e.width=e.height*_):(e.width=W.width,e.height=e.width*R)),T(e),G((e=>(e[0].set(new c.Vector3(0,-1,0),.5*W.height),e[1].set(new c.Vector3(1,0,0),.5*W.width),e[2].set(new c.Vector3(0,1,0),.5*W.height),e[3].set(new c.Vector3(-1,0,0),.5*W.width),[...e])))}),[d,H,A,W,u,_,R,L]);const K=n.useRef(null);n.useEffect((()=>{const e=K.current;null!==e&&(e.updateMatrixWorld(!0),j.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[d,H,j]);const N=n.useMemo((()=>++p),[]),Q=function(e){const t=n.useRef(0);return n.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([H,A,d,o,U,j]);return n.createElement("group",{ref:(0,s.l)([K,t]),key:Q,position:d,onClick:k,onContextMenu:x,onDoubleClick:E,onPointerUp:v,onPointerDown:C,onPointerOver:M,onPointerOut:P,onPointerEnter:y,onPointerLeave:S,onPointerMove:z,onPointerMissed:D,onPointerCancel:I,onWheel:O},n.createElement("mesh",{renderOrder:N+g},n.createElement("planeBufferGeometry",{args:[W.width,W.height]}),n.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),n.createElement("mesh",{renderOrder:N+g,visible:void 0!==A},n.createElement("planeBufferGeometry",{args:[U.width,U.height]}),n.createElement("meshBasicMaterial",{map:A,transparent:!0,depthWrite:!1,clippingPlanes:j})),n.Children.map(o,((e,t)=>n.createElement("group",{key:t,position:H[t]},e))))}var u=n.forwardRef(h);const g=.5;function d(){return n.createElement(r.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},n.createElement(i.c,{makeDefault:!0,position:[0,0,5]}),n.createElement(a.z,{makeDefault:!0}),n.createElement("ambientLight",null),n.createElement(u,{backgroundColor:"crimson",width:3,height:3,justifyContent:"space-between",flexDirection:"row",alignItems:"center"},n.createElement(u,{width:1,height:g,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/landscape.png"}),n.createElement(u,{width:g,height:g,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"}),n.createElement(u,{width:g,height:1,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/portrait.png"}),n.createElement(u,{width:g,height:g,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}}}]);
//# sourceMappingURL=482.7b2a6c7c.chunk.js.map