"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(294),i=n(977),a=n(694),o=n(581),h=n(477);let c=-1;var l,s=n(867);function d(e){let{children:t,width:n=1,height:i=1,backgroundColor:a="black",backgroundImage:o,backgroundSize:l,tint:d,zIndex:u=0}=e;const g=(0,s.w)((e=>e.gl)),m=r.useMemo((()=>({width:n,height:i})),[n,i]),[w,p]=r.useState(void 0);r.useMemo((()=>{void 0!==o&&(new h.TextureLoader).loadAsync(o).then(p)}),[o]),r.useMemo((()=>{void 0!==w&&(w.anisotropy=g.capabilities.getMaxAnisotropy())}),[w,g]);const[f,b,k]=r.useMemo((()=>{const e=m.width/m.height;return void 0===w?[e,e,e]:[e,w.image.width/w.image.height,w.image.height/w.image.width]}),[w,m]),E=r.useMemo((()=>{const e=new h.Plane(new h.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]}),[]),[v,M]=r.useMemo((()=>{if(void 0===w)return[m,E];const e={...m};return"contain"===l&&(b>=f?(e.width=m.width,e.height=e.width*k):(e.height=m.height,e.width=e.height*b)),"cover"===l&&(b>=f?(e.height=m.height,e.width=e.height*b):(e.width=m.width,e.height=e.width*k)),E[0].set(new h.Vector3(0,-1,0),.5*m.height),E[1].set(new h.Vector3(1,0,0),.5*m.width),E[2].set(new h.Vector3(0,1,0),.5*m.height),E[3].set(new h.Vector3(-1,0,0),.5*m.width),[e,E]}),[E,w,m,l,b,k,f]),y=r.useMemo((()=>++c),[]),C=function(e){const t=r.useRef(0);return r.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([w,d]);return r.createElement("group",{key:C},r.createElement("mesh",{renderOrder:y+u},r.createElement("planeBufferGeometry",{args:[m.width,m.height]}),r.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),r.createElement("mesh",{visible:void 0!==w,renderOrder:y+u},r.createElement("planeBufferGeometry",{args:[v.width,v.height]}),r.createElement("meshBasicMaterial",{map:w,transparent:!0,depthWrite:!1,clippingPlanes:M})),t)}function u(){return r.createElement(i.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},r.createElement(a.c,{makeDefault:!0,position:[0,0,5]}),r.createElement(o.z,{makeDefault:!0}),r.createElement("ambientLight",null),r.createElement(d,{backgroundColor:"crimson",width:3,height:3},r.createElement(d,{width:1.5,height:1.5,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}!function(e){e.landscape="landscape",e.portrait="portrait"}(l||(l={}))}}]);
//# sourceMappingURL=482.335b0e59.chunk.js.map