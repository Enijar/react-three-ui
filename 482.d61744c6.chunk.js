"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var n=o(294),r=o(977),i=o(989),a=o(581),s=o(530),c=o(477),l=o(867);let p=-1;function h(e,t){let{children:o,width:r=1,height:i=1,backgroundColor:a="black",backgroundImage:h,backgroundSize:u,zIndex:g=0,position:d,flexDirection:m="row",alignItems:w="start",justifyContent:f="start",gap:b=0,onClick:k,onContextMenu:x,onDoubleClick:E,onPointerUp:v,onPointerDown:C,onPointerOver:M,onPointerOut:P,onPointerEnter:y,onPointerLeave:z,onPointerMove:D,onPointerMissed:I,onPointerCancel:S,onWheel:O}=e;const V=(0,l.w)((e=>e.gl)),W=n.useMemo((()=>({width:r,height:i})),[r,i]),[A,B]=n.useState(void 0);n.useMemo((()=>{void 0!==h&&(new c.TextureLoader).loadAsync(h).then(B)}),[h]),n.useMemo((()=>{void 0!==A&&(A.anisotropy=V.capabilities.getMaxAnisotropy())}),[A,V]);const[L,_,R]=n.useMemo((()=>{const e=W.width/W.height;return void 0===A?[e,e,e]:[e,A.image.width/A.image.height,A.image.height/A.image.width]}),[A,W]),[j,G]=n.useState((()=>{const e=new c.Plane(new c.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[U,T]=n.useState((()=>({...W})));n.useEffect((()=>{if(void 0===A)return;const e={...W};"contain"===u&&(_>=L?(e.width=W.width,e.height=e.width*R):(e.height=W.height,e.width=e.height*_)),"cover"===u&&(_>=L?(e.height=W.height,e.width=e.height*_):(e.width=W.width,e.height=e.width*R)),T(e),G((e=>(e[0].set(new c.Vector3(0,-1,0),.5*W.height),e[1].set(new c.Vector3(1,0,0),.5*W.width),e[2].set(new c.Vector3(0,1,0),.5*W.height),e[3].set(new c.Vector3(-1,0,0),.5*W.width),[...e])))}),[d,A,W,u,_,R,L]);const X=n.useRef(null);n.useEffect((()=>{const e=X.current;null!==e&&(e.updateMatrixWorld(!0),j.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[d,j]);const q=n.useMemo((()=>++p),[]),F=function(e){const t=n.useRef(0);return n.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([A,d,o,U,j]),H=n.useMemo((()=>void 0===o?[]:Array.isArray(o)?o:[o]),[o]),J=n.useMemo((()=>new c.Vector2(0,0)),[]),K=n.useCallback(((e,t)=>{const o=H.reduce(((e,t)=>e+t.props.width),0),n=H.reduce(((e,t)=>e+t.props.height),0);J.set(0,0);let r=o,i="width",a="height";if("column"===m&&(i="height",a="width",r=n),H.length>0&&!["space-between","space-around"].includes(f)&&(r+=b*(H.length-1)),"start"===f){J.x=.5*W[i]+.5*H[0].props[i]-W[i];for(let e=1;e<=t;e++)J.x+=.5*H[e-1].props[i]+.5*H[e].props[i]+b}if("center"===f){J.x=.5*H[0].props[i]-.5*r;for(let e=1;e<=t;e++)J.x+=.5*H[e-1].props[i]+.5*H[e].props[i]+b}if("end"===f){J.x=.5*W[i]+.5*H[0].props[i]-r;for(let e=1;e<=t;e++)J.x+=.5*H[e-1].props[i]+.5*H[e].props[i]+b}if("space-between"===f)if(r>=W[i]){J.x=.5*W[i]+.5*H[0].props[i]-W[i];for(let e=1;e<=t;e++)J.x+=.5*H[e-1].props[i]+.5*H[e].props[i]}else{let e=Math.max(0,W[i]-r);0===H.length?e=0:e>0&&(e/=H.length-1),J.x=.5*W[i]+.5*H[0].props[i]-W[i];for(let o=1;o<=t;o++)J.x+=.5*H[o-1].props[i]+.5*H[o].props[i]+e}if("space-around"===f)if(r>=W[i]){J.x=.5*W[i]+.5*H[0].props[i]-W[i];for(let e=1;e<=t;e++)J.x+=.5*H[e-1].props[i]+.5*H[e].props[i]}else{let e=Math.max(0,W[i]-r);0===H.length?e=0:e>0&&(e/=H.length+1),J.x=.5*W[i]+.5*H[0].props[i]-W[i],J.x+=e;for(let o=1;o<=t;o++)J.x+=.5*H[o-1].props[i]+.5*H[o].props[i]+e}return"start"===w&&("row"===m&&(J.y=.5*W[a]-.5*e.props[a]),"column"===m&&(J.y=-.5*W[a]+.5*e.props[a])),"end"===w&&("row"===m&&(J.y=-.5*W[a]+.5*e.props[a]),"column"===m&&(J.y=.5*W[a]-.5*e.props[a])),"column"===m?[J.y,J.x,0]:[J.x,J.y,0]}),[H,W,m,w,f,b,J]);return n.createElement("group",{ref:(0,s.l)([X,t]),key:F,position:d,onClick:k,onContextMenu:x,onDoubleClick:E,onPointerUp:v,onPointerDown:C,onPointerOver:M,onPointerOut:P,onPointerEnter:y,onPointerLeave:z,onPointerMove:D,onPointerMissed:I,onPointerCancel:S,onWheel:O},n.createElement("mesh",{renderOrder:q+g},n.createElement("planeBufferGeometry",{args:[W.width,W.height]}),n.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),n.createElement("mesh",{renderOrder:q+g,visible:void 0!==A},n.createElement("planeBufferGeometry",{args:[U.width,U.height]}),n.createElement("meshBasicMaterial",{map:A,transparent:!0,depthWrite:!1,clippingPlanes:j})),n.Children.map(o,((e,t)=>n.createElement("group",{key:t,position:K(e,t)},e))))}var u=n.forwardRef(h);const g=.5;function d(){return n.createElement(r.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},n.createElement(i.c,{makeDefault:!0,position:[0,0,5]}),n.createElement(a.z,{makeDefault:!0}),n.createElement("ambientLight",null),n.createElement(u,{backgroundColor:"crimson",width:3,height:3,position:[0,0,0],justifyContent:"space-between",flexDirection:"row",alignItems:"center"},n.createElement(u,{width:1,height:g,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/landscape.png"}),n.createElement(u,{width:g,height:g,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"}),n.createElement(u,{width:g,height:1,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/portrait.png"}),n.createElement(u,{width:g,height:g,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}}}]);
//# sourceMappingURL=482.d61744c6.chunk.js.map