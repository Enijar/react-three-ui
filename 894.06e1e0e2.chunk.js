"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[894],{291:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(294),o=n(369),i=n(977),a=n(989),c=n(581);function s(e){let{children:t}=e;const n=r.useMemo((()=>new o.d(6,6,6,10,10,10).translate(0,3,0)),[]);return r.createElement(i.Xz,{legacy:!0,flat:!0,linear:!0,gl:{localClippingEnabled:!0}},r.createElement(a.c,{makeDefault:!0,position:[0,1.6,0]}),r.createElement(c.z,{makeDefault:!0,target:[0,1,-1.8]}),r.createElement("ambientLight",null),r.createElement("lineSegments",{geometry:n},r.createElement("lineBasicMaterial",{color:"#c0c0c0"})),r.createElement("group",{position:[0,1,-1.88]},t))}},894:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(294),o=n(291),i=n(631),a=n(462),c=n(477),s=n(679),l=n(22),u=n(881),p=n(530),h=n(43),d=n(460),f=n(385),m=n(955);function g(e,t){let{anchorX:n="center",anchorY:o="middle",fontUrl:g,children:w,characters:x,onSync:y,...E}=e;const v=(0,l.w)((e=>{let{invalidate:t}=e;return t})),[b]=r.useState((()=>new s.xv)),[M,C]=r.useMemo((()=>{const e=[];let t="";return r.Children.forEach(w,(n=>{"string"==typeof n||"number"==typeof n?t+=n:e.push(n)})),[e,t]}),[w]);(0,u.Rq)((()=>new Promise((e=>(0,s.C5)({fontUrl:g,characters:x},e)))),["troika-text",g,x]);const P=r.useRef(null),k=(0,h.Z)(),Z=(0,d.Z)([w]);r.useMemo((()=>{b.renderOrder=k+2;const e=b.material;e.side=c.FrontSide,e.depthWrite=!1,e.needsUpdate=!0}),[b,k]);const[S,O]=r.useState({width:0,height:0});r.useLayoutEffect((()=>{b.sync((()=>{v();const e=2*b.geometry.boundingBox.max.x,t=2*b.geometry.boundingBox.max.y;O({width:e,height:t}),y&&y(b)}))})),r.useEffect((()=>()=>b.dispose()),[b]);const I=r.useId(),{parentId:D}=r.useContext(m.K);return r.useEffect((()=>{null!==P.current&&void 0!==D&&(f.Z.hasOwnProperty(D)||(f.Z[D]=[]),f.Z[D].push({...S,id:I}))}),[D,S,I]),r.createElement(i.Z,{width:S.width,height:S.height,ref:P,key:Z,backgroundOpacity:0},r.createElement("primitive",(0,a.Z)({object:b,ref:(0,p.l)([P,t]),font:g,text:C,anchorX:n,anchorY:o},E),M))}const w=r.forwardRef(g);w.displayName="ui-text";var x=w;function y(){return r.createElement(o.Z,null,r.createElement(i.Z,{backgroundColor:"#777777",width:1,height:1,justifyContent:"center",flexDirection:"column",alignItems:"center",gap:.05},r.createElement(i.Z,{width:.5,height:.5,backgroundColor:"#555555",alignItems:"start",justifyContent:"space-between",flexDirection:"column"},r.createElement(x,{fontSize:.08,color:"white",textAlign:"center",fontUrl:"./assets/fonts/roboto.ttf"},"Roboto Slab"))))}},631:function(e,t,n){var r=n(294),o=n(530),i=n(477),a=n(22),c=n(43),s=n(460),l=n(385),u=n(955);function p(e,t){let{children:n,width:p=1,height:h=1,backgroundColor:d="black",backgroundImage:f,backgroundSize:m,backgroundOpacity:g=1,zIndex:w=0,position:x,rotation:y,flexDirection:E="row",alignItems:v="start",justifyContent:b="start",gap:M=0,onClick:C,onContextMenu:P,onDoubleClick:k,onPointerUp:Z,onPointerDown:S,onPointerOver:O,onPointerOut:I,onPointerEnter:D,onPointerLeave:B,onPointerMove:R,onPointerMissed:W,onPointerCancel:U,onWheel:V}=e;const z=(0,a.w)((e=>e.gl)),A=r.useMemo((()=>({width:p,height:h})),[p,h]),[L,j]=r.useState(void 0);r.useMemo((()=>{void 0!==f&&(new i.TextureLoader).loadAsync(f).then(j)}),[f]),r.useMemo((()=>{void 0!==L&&(L.anisotropy=z.capabilities.getMaxAnisotropy())}),[L,z]);const[K,_,N]=r.useMemo((()=>{const e=A.width/A.height;return void 0===L?[e,e,e]:[e,L.image.width/L.image.height,L.image.height/L.image.width]}),[L,A]),[X,G]=r.useState((()=>{const e=new i.Plane(new i.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[Y,q]=r.useState((()=>({...A}))),F=r.useMemo((()=>void 0===n?[]:Array.isArray(n)?n:[n]),[n]),T=r.useMemo((()=>new i.Vector2(0,0)),[]),{parentId:H}=r.useContext(u.K),J=r.useCallback((e=>{var t;const n=null!==(t=F[e].type.displayName)&&void 0!==t?t:"";if(!["ui-surface"].includes(n))return[0,0,0];const r=F.reduce(((e,t)=>e+t.props.width),0),o=F.reduce(((e,t)=>e+t.props.height),0);T.set(0,0);let i=r,a="width",c="height";if("column"===E&&(a="height",c="width",i=o),F.length>0&&!["space-between","space-around"].includes(b)&&(i+=M*(F.length-1)),"start"===b){T.x=.5*A[a]+.5*F[0].props[a]-A[a];for(let t=1;t<=e;t++)T.x+=.5*F[t-1].props[a]+.5*F[t].props[a]+M}if("center"===b){T.x=.5*F[0].props[a]-.5*i;for(let t=1;t<=e;t++)T.x+=.5*F[t-1].props[a]+.5*F[t].props[a]+M}if("end"===b){T.x=.5*A[a]+.5*F[0].props[a]-i;for(let t=1;t<=e;t++)T.x+=.5*F[t-1].props[a]+.5*F[t].props[a]+M}if("space-between"===b)if(i>=A[a]){T.x=.5*A[a]+.5*F[0].props[a]-A[a];for(let t=1;t<=e;t++)T.x+=.5*F[t-1].props[a]+.5*F[t].props[a]}else{let t=Math.max(0,A[a]-i);0===F.length?t=0:t>0&&(t/=F.length-1),T.x=.5*A[a]+.5*F[0].props[a]-A[a];for(let n=1;n<=e;n++)T.x+=.5*F[n-1].props[a]+.5*F[n].props[a]+t}if("space-around"===b)if(i>=A[a]){T.x=.5*A[a]+.5*F[0].props[a]-A[a];for(let t=1;t<=e;t++)T.x+=.5*F[t-1].props[a]+.5*F[t].props[a]}else{let t=Math.max(0,A[a]-i);0===F.length?t=0:t>0&&(t/=F.length+1),T.x=.5*A[a]+.5*F[0].props[a]-A[a],T.x+=t;for(let n=1;n<=e;n++)T.x+=.5*F[n-1].props[a]+.5*F[n].props[a]+t}return"start"===v&&("row"===E&&(T.y=.5*A[c]-.5*F[e].props[c]),"column"===E&&(T.y=-.5*A[c]+.5*F[e].props[c])),"end"===v&&("row"===E&&(T.y=-.5*A[c]+.5*F[e].props[c]),"column"===E&&(T.y=.5*A[c]-.5*F[e].props[c])),"column"===E?[T.y,T.x,0]:[T.x,T.y,0]}),[F,A,E,v,b,M,T,H]),[Q,$]=r.useState((()=>F.map(((e,t)=>J(t)))));r.useEffect((()=>{$(F.map(((e,t)=>J(t))))}),[F,J]),r.useEffect((()=>{if(void 0===L)return;const e={...A};"contain"===m&&(_>=K?(e.width=A.width,e.height=e.width*N):(e.height=A.height,e.width=e.height*_)),"cover"===m&&(_>=K?(e.height=A.height,e.width=e.height*_):(e.width=A.width,e.height=e.width*N)),q(e),G((e=>(e[0].set(new i.Vector3(0,-1,0),.5*A.height),e[1].set(new i.Vector3(1,0,0),.5*A.width),e[2].set(new i.Vector3(0,1,0),.5*A.height),e[3].set(new i.Vector3(-1,0,0),.5*A.width),[...e])))}),[y,x,Q,L,A,m,_,N,K]);const ee=r.useRef(null);r.useEffect((()=>{const e=ee.current;null!==e&&(e.updateMatrixWorld(!0),X.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[y,x,Q,X]);const te=(0,c.Z)(),ne=(0,s.Z)([Q,L,y,x,n,Y,X]),re=r.useId();return r.useEffect((()=>{null!==ee.current&&void 0!==H&&(l.Z.hasOwnProperty(H)||(l.Z[H]=[]),l.Z[H].push({...A,id:re}))}),[A,H,re]),r.createElement("group",{ref:(0,o.l)([ee,t]),key:ne,rotation:y,position:x,onClick:C,onContextMenu:P,onDoubleClick:k,onPointerUp:Z,onPointerDown:S,onPointerOver:O,onPointerOut:I,onPointerEnter:D,onPointerLeave:B,onPointerMove:R,onPointerMissed:W,onPointerCancel:U,onWheel:V},r.createElement("mesh",{renderOrder:te+w},r.createElement("planeBufferGeometry",{args:[A.width,A.height]}),r.createElement("meshBasicMaterial",{color:d,opacity:g,transparent:!0,depthWrite:!1})),r.createElement("mesh",{renderOrder:te+w,visible:void 0!==L},r.createElement("planeBufferGeometry",{args:[Y.width,Y.height]}),r.createElement("meshBasicMaterial",{map:L,opacity:g,transparent:!0,depthWrite:!1,clippingPlanes:X})),r.createElement(u.K.Provider,{value:{parentId:re}},r.Children.map(n,((e,t)=>r.createElement("group",{key:t,position:Q[t]},e)))))}const h=r.forwardRef(p);h.displayName="ui-surface",t.Z=h},955:function(e,t,n){n.d(t,{K:function(){return r}});const r=n(294).createContext({})},460:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(294);function o(e){const t=r.useRef(0);return r.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}},43:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(294);let o=-1;function i(){return r.useMemo((()=>++o),[])}},385:function(e,t){t.Z={}}}]);
//# sourceMappingURL=894.06e1e0e2.chunk.js.map