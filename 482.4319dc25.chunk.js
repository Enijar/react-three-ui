"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=r(294),i=r(977),a=r(989),o=r(581),c=r(530),h=r(477),s=r(867);let l=-1;function g(e,t){let{children:r,width:i=1,height:a=1,backgroundColor:o="black",backgroundImage:g,backgroundSize:d,zIndex:u=0,position:m,flexDirection:p="row",alignItems:w="start",justifyContent:f="start",gap:b=0}=e;const k=(0,s.w)((e=>e.gl)),E=n.useMemo((()=>({width:i,height:a})),[i,a]),[v,M]=n.useState(void 0);n.useMemo((()=>{void 0!==g&&(new h.TextureLoader).loadAsync(g).then(M)}),[g]),n.useMemo((()=>{void 0!==v&&(v.anisotropy=k.capabilities.getMaxAnisotropy())}),[v,k]);const[C,y,x]=n.useMemo((()=>{const e=E.width/E.height;return void 0===v?[e,e,e]:[e,v.image.width/v.image.height,v.image.height/v.image.width]}),[v,E]),[z,S]=n.useState((()=>{const e=new h.Plane(new h.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[I,V]=n.useState((()=>({...E})));n.useEffect((()=>{if(void 0===v)return;const e={...E};"contain"===d&&(y>=C?(e.width=E.width,e.height=e.width*x):(e.height=E.height,e.width=e.height*y)),"cover"===d&&(y>=C?(e.height=E.height,e.width=e.height*y):(e.width=E.width,e.height=e.width*x)),V(e),S((e=>(e[0].set(new h.Vector3(0,-1,0),.5*E.height),e[1].set(new h.Vector3(1,0,0),.5*E.width),e[2].set(new h.Vector3(0,1,0),.5*E.height),e[3].set(new h.Vector3(-1,0,0),.5*E.width),[...e])))}),[m,v,E,d,y,x,C]);const B=n.useRef(null);n.useEffect((()=>{const e=B.current;null!==e&&(e.updateMatrixWorld(!0),z.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[m,z]);const W=n.useMemo((()=>++l),[]),_=function(e){const t=n.useRef(0);return n.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([v,m,r,I,z]);return n.createElement("group",{ref:(0,c.l)([B,t]),key:_,position:m},n.createElement("mesh",{renderOrder:W+u},n.createElement("planeBufferGeometry",{args:[E.width,E.height]}),n.createElement("meshBasicMaterial",{color:o,transparent:!0,depthWrite:!1})),n.createElement("mesh",{renderOrder:W+u,visible:void 0!==v},n.createElement("planeBufferGeometry",{args:[I.width,I.height]}),n.createElement("meshBasicMaterial",{map:v,transparent:!0,depthWrite:!1,clippingPlanes:z})),r)}var d=n.forwardRef(g);function u(){return n.createElement(i.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},n.createElement(a.c,{makeDefault:!0,position:[0,0,5]}),n.createElement(o.z,{makeDefault:!0}),n.createElement("ambientLight",null),n.createElement(d,{backgroundColor:"crimson",width:3,height:3,position:[0,0,0]},n.createElement(d,{width:1,height:1,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/landscape.png"}),n.createElement(d,{width:1,height:1,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"}),n.createElement(d,{width:1,height:1,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/portrait.png"})))}}}]);
//# sourceMappingURL=482.4319dc25.chunk.js.map