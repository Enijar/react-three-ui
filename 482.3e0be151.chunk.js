"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var i=r(294),n=r(977),o=r(989),a=r(581),h=r(530),c=r(477),s=r(867);let d=-1;function l(e,t){let{children:r,width:n=1,height:o=1,backgroundColor:a="black",backgroundImage:l,backgroundSize:g,zIndex:u=0,position:p,flexDirection:w="row",alignItems:m="start",justifyContent:f="start",gap:b=0}=e;const k=(0,s.w)((e=>e.gl)),E=i.useMemo((()=>({width:n,height:o})),[n,o]),[v,C]=i.useState(void 0);i.useMemo((()=>{void 0!==l&&(new c.TextureLoader).loadAsync(l).then(C)}),[l]),i.useMemo((()=>{void 0!==v&&(v.anisotropy=k.capabilities.getMaxAnisotropy())}),[v,k]);const[y,M,z]=i.useMemo((()=>{const e=E.width/E.height;return void 0===v?[e,e,e]:[e,v.image.width/v.image.height,v.image.height/v.image.width]}),[v,E]),[I,S]=i.useState((()=>{const e=new c.Plane(new c.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[x,V]=i.useState((()=>({...E})));i.useEffect((()=>{if(void 0===v)return;const e={...E};"contain"===g&&(M>=y?(e.width=E.width,e.height=e.width*z):(e.height=E.height,e.width=e.height*M)),"cover"===g&&(M>=y?(e.height=E.height,e.width=e.height*M):(e.width=E.width,e.height=e.width*z)),V(e),S((e=>(e[0].set(new c.Vector3(0,-1,0),.5*E.height),e[1].set(new c.Vector3(1,0,0),.5*E.width),e[2].set(new c.Vector3(0,1,0),.5*E.height),e[3].set(new c.Vector3(-1,0,0),.5*E.width),[...e])))}),[p,v,E,g,M,z,y]);const A=i.useRef(null);i.useEffect((()=>{const e=A.current;null!==e&&(e.updateMatrixWorld(!0),I.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[p,I]);const B=i.useMemo((()=>++d),[]),W=function(e){const t=i.useRef(0);return i.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([v,p,r,x,I]),_=i.useMemo((()=>void 0===r?[]:Array.isArray(r)?r:[r]),[r]),D=i.useCallback(((e,t)=>{const r=_.reduce(((e,t)=>e+t.props.width),0);_.reduce(((e,t)=>e+t.props.height),0);let i=0,n=0;if("row"===w&&"start"===f&&(i=-.5*E.width,i+=_.reduce(((e,r,i)=>0===i?.5*r.props.width:i>t?e:e+r.props.width),0)),"row"===w&&"center"===f&&(i=-.5*r,i+=_.reduce(((e,r,i)=>0===i?.5*r.props.width:i>t?e:e+r.props.width),0)),"row"===w&&"end"===f&&(i=.5*E.width-r,i+=_.reduce(((e,r,i)=>0===i?.5*r.props.width:i>t?e:e+r.props.width),0)),"row"===w&&"space-between"===f)if(r>=E.width)i=-.5*r,i+=_.reduce(((e,r,i)=>0===i?.5*r.props.width:i>t?e:e+r.props.width),0);else{let e=_.length<=1?0:(E.width-r)/(_.length-1);i=-.5*E.width,i+=_.reduce(((r,i,n)=>0===n?.5*i.props.width:n>t?r:r+i.props.width+e),0)}return"row"===w&&"start"===m&&(n=.5*E.height-.5*e.props.height),"row"===w&&"end"===m&&(n=-.5*E.height+.5*e.props.height),[i,n,0]}),[_,E,w,m,f]);return i.createElement("group",{ref:(0,h.l)([A,t]),key:W,position:p},i.createElement("mesh",{renderOrder:B+u},i.createElement("planeBufferGeometry",{args:[E.width,E.height]}),i.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),i.createElement("mesh",{renderOrder:B+u,visible:void 0!==v},i.createElement("planeBufferGeometry",{args:[x.width,x.height]}),i.createElement("meshBasicMaterial",{map:v,transparent:!0,depthWrite:!1,clippingPlanes:I})),i.Children.map(r,((e,t)=>i.createElement("group",{key:t,position:D(e,t)},e))))}var g=i.forwardRef(l);const u=.5;function p(){return i.createElement(n.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},i.createElement(o.c,{makeDefault:!0,position:[0,0,5]}),i.createElement(a.z,{makeDefault:!0}),i.createElement("ambientLight",null),i.createElement(g,{backgroundColor:"crimson",width:3,height:3,position:[0,0,0],justifyContent:"space-between",alignItems:"center"},i.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/landscape.png"}),i.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"}),i.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/portrait.png"}),i.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}}}]);
//# sourceMappingURL=482.3e0be151.chunk.js.map