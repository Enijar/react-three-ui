"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(294),i=n(977),a=n(694),h=n(581),o=n(477);let c=-1;var l=n(867);function s(e){let{children:t,width:n=1,height:i=1,backgroundColor:a="black",backgroundImage:h,backgroundSize:s,zIndex:d=0}=e;const u=(0,l.w)((e=>e.gl)),g=r.useMemo((()=>({width:n,height:i})),[n,i]),[m,w]=r.useState(void 0);r.useMemo((()=>{void 0!==h&&(new o.TextureLoader).loadAsync(h).then(w)}),[h]),r.useMemo((()=>{void 0!==m&&(m.anisotropy=u.capabilities.getMaxAnisotropy())}),[m,u]);const[p,f,b]=r.useMemo((()=>{const e=g.width/g.height;return void 0===m?[e,e,e]:[e,m.image.width/m.image.height,m.image.height/m.image.width]}),[m,g]),k=r.useMemo((()=>{const e=new o.Plane(new o.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]}),[]),[E,v]=r.useMemo((()=>{if(void 0===m)return[g,k];const e={...g};return"contain"===s&&(f>=p?(e.width=g.width,e.height=e.width*b):(e.height=g.height,e.width=e.height*f)),"cover"===s&&(f>=p?(e.height=g.height,e.width=e.height*f):(e.width=g.width,e.height=e.width*b)),k[0].set(new o.Vector3(0,-1,0),.5*g.height),k[1].set(new o.Vector3(1,0,0),.5*g.width),k[2].set(new o.Vector3(0,1,0),.5*g.height),k[3].set(new o.Vector3(-1,0,0),.5*g.width),[e,k]}),[k,m,g,s,f,b,p]),M=r.useMemo((()=>++c),[]),y=function(e){const t=r.useRef(0);return r.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([m]);return r.createElement("group",{key:y},r.createElement("mesh",{renderOrder:M+d},r.createElement("planeBufferGeometry",{args:[g.width,g.height]}),r.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),r.createElement("mesh",{visible:void 0!==m,renderOrder:M+d},r.createElement("planeBufferGeometry",{args:[E.width,E.height]}),r.createElement("meshBasicMaterial",{map:m,transparent:!0,depthWrite:!1,clippingPlanes:v})),t)}function d(){return r.createElement(i.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},r.createElement(a.c,{makeDefault:!0,position:[0,0,5]}),r.createElement(h.z,{makeDefault:!0}),r.createElement("ambientLight",null),r.createElement(s,{backgroundColor:"crimson",width:3,height:3},r.createElement(s,{width:1.5,height:1.5,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}}}]);
//# sourceMappingURL=482.46eaef81.chunk.js.map