"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[482],{482:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(294),o=n(977),i=n(989),a=n(581),h=n(530),c=n(477),s=n(867);let d=-1;function l(e,t){let{children:n,width:o=1,height:i=1,backgroundColor:a="black",backgroundImage:l,backgroundSize:g,zIndex:u=0,position:p,flexDirection:w="row",alignItems:m="start",justifyContent:f="start",gap:b=0,onClick:k,onContextMenu:E,onDoubleClick:v,onPointerUp:C,onPointerDown:P,onPointerOver:M,onPointerOut:y,onPointerEnter:x,onPointerLeave:z,onPointerMove:I,onPointerMissed:S,onPointerCancel:D,onWheel:O}=e;const W=(0,s.w)((e=>e.gl)),V=r.useMemo((()=>({width:o,height:i})),[o,i]),[A,B]=r.useState(void 0);r.useMemo((()=>{void 0!==l&&(new c.TextureLoader).loadAsync(l).then(B)}),[l]),r.useMemo((()=>{void 0!==A&&(A.anisotropy=W.capabilities.getMaxAnisotropy())}),[A,W]);const[L,_,R]=r.useMemo((()=>{const e=V.width/V.height;return void 0===A?[e,e,e]:[e,A.image.width/A.image.height,A.image.height/A.image.width]}),[A,V]),[j,G]=r.useState((()=>{const e=new c.Plane(new c.Vector3,1);return[e.clone(),e.clone(),e.clone(),e.clone()]})),[U,T]=r.useState((()=>({...V})));r.useEffect((()=>{if(void 0===A)return;const e={...V};"contain"===g&&(_>=L?(e.width=V.width,e.height=e.width*R):(e.height=V.height,e.width=e.height*_)),"cover"===g&&(_>=L?(e.height=V.height,e.width=e.height*_):(e.width=V.width,e.height=e.width*R)),T(e),G((e=>(e[0].set(new c.Vector3(0,-1,0),.5*V.height),e[1].set(new c.Vector3(1,0,0),.5*V.width),e[2].set(new c.Vector3(0,1,0),.5*V.height),e[3].set(new c.Vector3(-1,0,0),.5*V.width),[...e])))}),[p,A,V,g,_,R,L]);const X=r.useRef(null);r.useEffect((()=>{const e=X.current;null!==e&&(e.updateMatrixWorld(!0),j.forEach((t=>{t.applyMatrix4(e.matrixWorld)})))}),[p,j]);const q=r.useMemo((()=>++d),[]),F=function(e){const t=r.useRef(0);return r.useMemo((()=>{let e=++t.current;return e>1e3&&(e=0,t.current=e),e}),e)}([A,p,n,U,j]),H=r.useMemo((()=>void 0===n?[]:Array.isArray(n)?n:[n]),[n]),J=r.useCallback(((e,t)=>{const n=H.reduce(((e,t)=>e+t.props.width),0);H.reduce(((e,t)=>e+t.props.height),0);let r=0,o=0;if("row"===w&&"start"===f&&(r=-.5*V.width,r+=H.reduce(((e,n,r)=>0===r?.5*n.props.width:r>t?e:e+n.props.width),0)),"row"===w&&"center"===f&&(r=-.5*n,r+=H.reduce(((e,n,r)=>0===r?.5*n.props.width:r>t?e:e+n.props.width),0)),"row"===w&&"end"===f&&(r=.5*V.width-n,r+=H.reduce(((e,n,r)=>0===r?.5*n.props.width:r>t?e:e+n.props.width),0)),"row"===w&&"space-between"===f)if(n>=V.width)r=-.5*n,r+=H.reduce(((e,n,r)=>0===r?.5*n.props.width:r>t?e:e+n.props.width),0);else{let e=H.length<=1?0:(V.width-n)/(H.length-1);r=-.5*V.width,r+=H.reduce(((n,r,o)=>0===o?.5*r.props.width:o>t?n:n+r.props.width+e),0)}return"row"===w&&"start"===m&&(o=.5*V.height-.5*e.props.height),"row"===w&&"end"===m&&(o=-.5*V.height+.5*e.props.height),[r,o,0]}),[H,V,w,m,f]);return r.createElement("group",{ref:(0,h.l)([X,t]),key:F,position:p,onClick:k,onContextMenu:E,onDoubleClick:v,onPointerUp:C,onPointerDown:P,onPointerOver:M,onPointerOut:y,onPointerEnter:x,onPointerLeave:z,onPointerMove:I,onPointerMissed:S,onPointerCancel:D,onWheel:O},r.createElement("mesh",{renderOrder:q+u},r.createElement("planeBufferGeometry",{args:[V.width,V.height]}),r.createElement("meshBasicMaterial",{color:a,transparent:!0,depthWrite:!1})),r.createElement("mesh",{renderOrder:q+u,visible:void 0!==A},r.createElement("planeBufferGeometry",{args:[U.width,U.height]}),r.createElement("meshBasicMaterial",{map:A,transparent:!0,depthWrite:!1,clippingPlanes:j})),r.Children.map(n,((e,t)=>r.createElement("group",{key:t,position:J(e,t)},e))))}var g=r.forwardRef(l);const u=.5;function p(){return r.createElement(o.Xz,{flat:!0,linear:!0,gl:{localClippingEnabled:!0}},r.createElement(i.c,{makeDefault:!0,position:[0,0,5]}),r.createElement(a.z,{makeDefault:!0}),r.createElement("ambientLight",null),r.createElement(g,{backgroundColor:"crimson",width:3,height:3,position:[0,0,0],justifyContent:"space-between",alignItems:"center"},r.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/landscape.png"}),r.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"}),r.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/portrait.png"}),r.createElement(g,{width:u,height:u,backgroundSize:"cover",backgroundColor:"green",backgroundImage:"./assets/images/robot.png"})))}}}]);
//# sourceMappingURL=482.3843b824.chunk.js.map